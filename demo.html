<!DOCTYPE html>
<html>
<head>
	<title>Simple Subtasks Sample</title>
	<meta charset="utf-8" />

	<link media="all" rel="stylesheet" type="text/css" href="vendor/bower/simple-checkbox/styles/checkbox.css" />
	<link media="all" rel="stylesheet" type="text/css" href="vendor/bower/simple-dialog/styles/dialog.css" />
	<link media="all" rel="stylesheet" type="text/css" href="vendor/bower/reset-css/reset.css" />
	<link media="all" rel="stylesheet" type="text/css" href="styles/subtasks.css" />
	<script type="text/javascript" src="vendor/bower/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="vendor/bower/simple-module/lib/module.js"></script>
	<script type="text/javascript" src="vendor/bower/simple-checkbox/lib/checkbox.js"></script>
	<script type="text/javascript" src="vendor/bower/simple-dialog/lib/dialog.js"></script>
	<script type="text/javascript" src="lib/subtasks.js"></script>
	<style type="text/css">
	html,body,.wrapper {
		width: 100%;
		height: 100%;
	}
	.wrapper h1 {
		margin: 30px 0 20px 0;
		font-size: 36px;
		text-align: center;
		font-weight: bolder;
	}
	.phone-wrapper {
		width: 300px;
		height: 480px;
		border: 1px solid #999;
		margin: 0 auto;
	}
	</style>
</head>
<body>
	<div class="wrapper">
		<h1>Simple-Subtasks</h1>
		<div class="phone-wrapper">
			<div id="subtasks"></div>
		</div>
	</div>
	<script type="text/javascript">
	$(function() {
		var data = [{
			'complete': false,
			'desc': '一个没有完成的子任务'
		}, {
			'complete': true,
			'desc': '一个已经完成了的子任务'
		}]
		var substask = simple.subtasks({
		  el: $("#subtasks"),
		  beforeRemove: function(el, task, remove_task) {
		  	var dialog = simple.dialog.confirm({
		  		content: "确定要删除子任务：" + task.desc + " 吗？",
		  		callback: function(e, yes) {
		  		    dialog.remove();
		  		    if(yes) {
		  		    	remove_task();
		  		    }
		  		}
		  	});
		  }
		}).setTasks(data);
	});
	</script>
</body>
</html>
